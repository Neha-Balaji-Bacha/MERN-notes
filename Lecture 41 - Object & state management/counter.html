<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Counter</title>
    <style>
        body {
            margin: 200px;
        }
    </style>
</head>
<body>

    <div>
        <h1>Counter</h1>

        <div class="counter">
            <p>0</p>
            <span>Level: 0</span>
            <button id="increase">Increase</button>
            <button id="decrease">Decrease</button>
        </div>

        <br />
        <hr />
        <br />

        <span>Select your theme</span>
        <button id="dark">Dark</button>
        <button id="light">Light</button>

        <button id="add-count">AddCount</button>
    </div>

<script>

    const state = {
        theme: "dark",
        level: 0,
    };

    /*
    level 1 -> count from 1 - 5
    level 2 -> count from 6 - 10
    level 3 -> count from 11 - 15
    and so on
    */
    const counter = {
        count: 0,
        level: 0,

        elements: {
            increase: document.querySelector("#increase"),
            decrease: document.querySelector("#decrease"),
            showCount: document.querySelector("p"),
            showLevel: document.querySelector("div > span"),
            darkThemeBtn: document.querySelector("#dark"),
            lightThemeBtn: document.querySelector("#light"),
        },

        updateLevel(newCount) {
            if (newCount > 10) {
                this.level = 3;
            } else if (newCount > 5) {
                this.level = 2;
            } else if (newCount > 0) {
                this.level = 1;
            } else {
                this.level = 0;
            }

            this.elements.showLevel.textContent = "Level: " + this.level;
            state.level = this.level;
        },

        updateCount(newCount) {
            this.elements.showCount.textContent = newCount;
            this.updateLevel(newCount);
        },

        events() {
            this.elements.increase.addEventListener("click", (e) => {
                e.preventDefault();
                this.count++;
                this.updateCount(this.count);
            });

            this.elements.decrease.addEventListener("click", (e) => {
                e.preventDefault();
                this.count--;
                this.updateCount(this.count);
            });

            this.elements.darkThemeBtn.addEventListener("click", (e) => {
                e.preventDefault();
                document.body.style.backgroundColor = "black";
                document.body.style.color = "white";
                state.theme = "dark";
            });

            this.elements.lightThemeBtn.addEventListener("click", (e) => {
                e.preventDefault();
                document.body.style.backgroundColor = "white";
                document.body.style.color = "black";
                state.theme = "light";
            });
        },
    };

    counter.events();
    
    // const obj = {
    //     count: 1,
    //     addCount() {
    //         this.count++;
    //         console.log("this", this);
    //     },
    // };

    // obj.addCount(); // calling the addCount method -> this refers to obj
    // const addBtn = document.querySelector("#add-count");

    // // Passing reference directly -> this refers to addBtn DOM Element
    // addBtn.addEventListener("click", obj.addCount);

    // // Fixing "this" by wrapping inside another function
    // addBtn.addEventListener("click", () => {
    //     obj.addCount();
    // });

</script>

</body>
</html>



   <!-- // let count=0;
        // const increase = document.querySelector("#increase");
        // const decrease = document.querySelector("#decrease");
        // const showcount = document.querySelector("p");

        // increase.addEventListener("click",(e) => {
        //     e.preventDefault();
        //     count++;
        //     showcount.textContent = count;
        // });

        // decrease.addEventListener("click",(e) => {
        //     e.preventDefault();
        //     count--;
        //     showcount.textContent = count;
        // }); -->